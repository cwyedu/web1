<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ğŸµ çŒœæ­Œå°æŒ‘æˆ°</title>
  <style>
    /* =======================
       å…¨ç«™ CSS æ¨£å¼
       ======================= */
    body {
      font-family: Arial, sans-serif;
      background-color: #FFF8E7; /* æ·¡è‰²èƒŒæ™¯ */
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      min-height: 100vh;
      margin: 0;
      padding: 20px;
    }

    h1 {
      font-size: 2.5rem;
      margin-bottom: 20px;
    }

    .player-container {
      margin-bottom: 20px;
    }

    input[type="text"] {
      padding: 10px;
      font-size: 1.2rem;
      width: 250px;
      border-radius: 5px;
      border: 1px solid #ccc;
    }

    button {
      padding: 10px 15px;
      font-size: 1.1rem;
      margin-left: 10px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      background-color: #4CAF50;
      color: white;
      transition: background-color 0.3s;
    }

    button:hover {
      background-color: #45a049;
    }

    .feedback {
      margin-top: 20px;
      font-size: 1.5rem;
      min-height: 2em;
    }

    .hidden {
      display: none;
    }
  </style>
</head>
<body>

  <!-- éŠæˆ²æ¨™é¡Œ -->
  <h1>ğŸµ çŒœæ­Œå°æŒ‘æˆ°</h1>

  <!-- éŸ³æ¨‚æ’­æ”¾å™¨å€ -->
  <div class="player-container">
    <audio id="audioPlayer" controls>
      <!-- é è¨­è¨Šæ¯ï¼Œå¦‚æœç€è¦½å™¨ä¸æ”¯æ´ audio -->
      æ‚¨çš„ç€è¦½å™¨ä¸æ”¯æ´ audio æ¨™ç±¤ã€‚
    </audio>
  </div>

  <!-- è¼¸å…¥æ¡†èˆ‡æŒ‰éˆ•å€ -->
  <div>
    <input type="text" id="answerInput" placeholder="è¼¸å…¥æ­Œå">
    <button id="submitBtn">é€å‡ºç­”æ¡ˆ</button>
    <button id="showAnswerBtn">çœ‹ç­”æ¡ˆ</button>
    <button id="nextBtn" class="hidden">å†ä¾†ä¸€é¦–</button>
  </div>

  <!-- å›é¥‹è¨Šæ¯ -->
  <div class="feedback" id="feedback"></div>

  <script>
    /* =======================
       éŠæˆ² JavaScript
       ======================= */

    // =======================
    // æ­Œæ›²è³‡æ–™é™£åˆ—
    // =======================
    // æ³¨æ„ï¼šè«‹å°‡ file å±¬æ€§æ›¿æ›ç‚ºå¯¦éš› MP3 æª”æ¡ˆè·¯å¾‘
    const songs = [
  { title: 'Golden', artist: 'Harry Styles', file: './songs/golden.mp3' },
  { title: 'å¥½å¥½å…ˆç”Ÿ', artist: 'æœªçŸ¥', file: './songs/å¥½å¥½å…ˆç”Ÿ.mp3' },
  { title: 'ç¼ºå£', artist: 'æœªçŸ¥', file: './songs/ç¼ºå£.mp3' },
  { title: 'ç­‰ä½ ä¸‹èª²', artist: 'å‘¨æ°å€«', file: './songs/ç­‰ä½ ä¸‹èª².mp3' },
  { title: 'è¸ç‰›', artist: 'å‘¨æ°å€«', file: './songs/è¸ç‰›.mp3' }
];

    // =======================
    // éŠæˆ²ç‹€æ…‹è®Šæ•¸
    // =======================
    let remainingSongs = []; // å­˜æ”¾å°šæœªæ’­æ”¾çš„æ­Œæ›²
    let currentSong = null;  // ç•¶å‰æ­£åœ¨æ’­æ”¾çš„æ­Œæ›²

    // DOM å…ƒç´ 
    const audioPlayer = document.getElementById('audioPlayer');
    const answerInput = document.getElementById('answerInput');
    const submitBtn = document.getElementById('submitBtn');
    const showAnswerBtn = document.getElementById('showAnswerBtn');
    const nextBtn = document.getElementById('nextBtn');
    const feedback = document.getElementById('feedback');

    // =======================
    // åˆå§‹åŒ–éŠæˆ²
    // =======================
    function initGame() {
      // è¤‡è£½æ­Œæ›²é™£åˆ—ï¼Œé¿å…ä¿®æ”¹åŸå§‹è³‡æ–™
      remainingSongs = [...songs];
      feedback.textContent = '';
      nextBtn.classList.add('hidden');
      answerInput.value = '';
      pickNextSong();
    }

    // =======================
    // éš¨æ©ŸæŒ‘é¸ä¸‹ä¸€é¦–æ­Œ
    // =======================
    function pickNextSong() {
      if (remainingSongs.length === 0) {
        // å…¨éƒ¨æ­Œæ›²éƒ½å·²çŒœå®Œ
        feedback.textContent = 'ğŸ‰ æ­Œæ›²éƒ½çŒœå®Œäº†ï¼';
        audioPlayer.src = '';
        submitBtn.disabled = true;
        showAnswerBtn.disabled = true;
        return;
      }

      // å¾ remainingSongs éš¨æ©ŸæŒ‘ä¸€é¦–
      const randomIndex = Math.floor(Math.random() * remainingSongs.length);
      currentSong = remainingSongs[randomIndex];

      // è¨­å®š audio æ’­æ”¾ä¾†æº
      audioPlayer.src = currentSong.file;
      audioPlayer.play();

      // æ¸…ç©ºè¼¸å…¥èˆ‡å›é¥‹
      answerInput.value = '';
      feedback.textContent = '';

      // éš±è—ã€Œå†ä¾†ä¸€é¦–ã€æŒ‰éˆ•
      nextBtn.classList.add('hidden');

      // å•Ÿç”¨é€å‡ºèˆ‡çœ‹ç­”æ¡ˆæŒ‰éˆ•
      submitBtn.disabled = false;
      showAnswerBtn.disabled = false;
    }

    // =======================
    // æª¢æŸ¥ä½¿ç”¨è€…ç­”æ¡ˆ
    // =======================
    function checkAnswer() {
      const userAnswer = answerInput.value.trim();
      if (userAnswer === '') return; // è‹¥æ²’æœ‰è¼¸å…¥ï¼Œä¸åšä»»ä½•äº‹

      if (userAnswer === currentSong.title) {
        feedback.textContent = 'âœ… çŒœå°äº†ï¼';
        showNextOption();
      } else {
        feedback.textContent = 'âŒ çŒœéŒ¯äº†ï¼Œå†è©¦ä¸€æ¬¡ï¼';
      }
    }

    // =======================
    // é¡¯ç¤ºæ­£ç¢ºç­”æ¡ˆ
    // =======================
    function showAnswer() {
      feedback.textContent = `ç­”æ¡ˆæ˜¯ï¼š${currentSong.title} - ${currentSong.artist}`;
      showNextOption();
    }

    // =======================
    // é¡¯ç¤ºã€Œå†ä¾†ä¸€é¦–ã€æŒ‰éˆ•
    // ä¸¦ç¦ç”¨é€å‡ºèˆ‡çœ‹ç­”æ¡ˆ
    // =======================
    function showNextOption() {
      nextBtn.classList.remove('hidden');
      submitBtn.disabled = true;
      showAnswerBtn.disabled = true;

      // å°‡å·²æ’­æ”¾çš„æ­Œæ›²å¾ remainingSongs ç§»é™¤
      remainingSongs = remainingSongs.filter(song => song !== currentSong);
    }

    // =======================
    // äº‹ä»¶ç›£è½
    // =======================
    submitBtn.addEventListener('click', checkAnswer);
    showAnswerBtn.addEventListener('click', showAnswer);
    nextBtn.addEventListener('click', pickNextSong);

    // è®“ Enter éµä¹Ÿèƒ½é€å‡ºç­”æ¡ˆ
    answerInput.addEventListener('keydown', function(e) {
      if (e.key === 'Enter') {
        checkAnswer();
      }
    });

    // =======================
    // å•Ÿå‹•éŠæˆ²
    // =======================
    initGame();
  </script>
</body>
</html>
